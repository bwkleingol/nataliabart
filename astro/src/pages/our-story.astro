---
// Enable server-side rendering for this page
export const prerender = false;

// Redirect to the appropriate language version
const defaultLanguage = 'en';
const browserLanguage = Astro.request.headers.get('accept-language')?.split(',')[0].split('-')[0];
let redirectLanguage = defaultLanguage;

// Check if browser language is supported
if (browserLanguage && ['en', 'nl', 'id'].includes(browserLanguage)) {
  redirectLanguage = browserLanguage;
}

Astro.response.status = 302;
Astro.response.headers.set('Location', `/${redirectLanguage}/our-story`);
---

    <section class="story-content">
        <div class="timeline">
            <div class="timeline-item">
                <div class="timeline-date">
                    <span>January 2020</span>
                </div>
                <div class="timeline-content">
                    <h3>First Meeting</h3>
                    <p>
                        Bart, was pendling back and forth in-between Bali-Netherlands for his startup, On December 
                        10, 2023 hefound himself at Warung Kecil.  Turns out, Natalia was working there too.  
                        She just...clicked.  Like, bam.  Conversation started, and before you knew it, they were 
                        strolling along the beach.  Honestly?  It felt like something, right from the get-go. 
                    </p>
                    <div class="story-image">
                        <img src="/images/story1.jpg" alt="First meeting in Semarang" />
                    </div>
                </div>
            </div>

            <div class="timeline-item">
                <div class="timeline-date">
                    <span>June 2020</span>
                </div>
                <div class="timeline-content">
                    <h3>Dating Begins</h3>
                    <p>
                        After several months of friendship and exploring Semarang together, Bart and Nathalia
                        realized their connection was special. Their first official date was a sunset
                        dinner at Marina Beach, where they talked for hours about their dreams and aspirations.
                    </p>
                    <div class="story-image">
                        <img src="/images/story2.jpg" alt="First date at Marina Beach" />
                    </div>
                </div>
            </div>

            <div class="timeline-item">
                <div class="timeline-date">
                    <span>December 2021</span>
                </div>
                <div class="timeline-content">
                    <h3>Meeting the Families</h3>
                    <p>
                        Bart took Nathalia to the Netherlands to meet his family during Christmas.
                        The following month, they traveled to Semarang where Bart was warmly welcomed
                        by Nathalia's family and experienced traditional Javanese culture firsthand.
                    </p>
                    <div class="story-image">
                        <img src="/images/story3.jpg" alt="Family gatherings" />
                    </div>
                </div>
            </div>

            <div class="timeline-item">
                <div class="timeline-date">
                    <span>August 2023</span>
                </div>
                <div class="timeline-content">
                    <h3>Moving In Together</h3>
                    <p>
                        After three years of dating, Bart and Nathalia decided to move in together in a
                        beautiful home in Semarang. They created a space that blended both of their
                        cultural backgrounds, with Dutch minimalism and Javanese traditional art.
                    </p>
                    <div class="story-image">
                        <img src="/images/story4.jpg" alt="Our home in Semarang" />
                    </div>
                </div>
            </div>

            <div class="timeline-item">
                <div class="timeline-date">
                    <span>February 2024</span>
                </div>
                <div class="timeline-content">
                    <h3>The Proposal</h3>
                    <p>
                        During a trip to Lawang Sewu for sunrise, Bart got down on one knee and proposed
                        as the sun painted the sky in beautiful colors. Nathalia was surprised and overjoyed,
                        and of course, she said yes!
                    </p>
                    <div class="story-image">
                        <img src="/images/story5.jpg" alt="The proposal at Lawang Sewu" />
                    </div>
                </div>
            </div>

            <div class="timeline-item">
                <div class="timeline-date">
                    <span>June 14, 2025</span>
                </div>
                <div class="timeline-content">
                    <h3>Our Wedding Day</h3>
                    <p>
                        We can't wait to celebrate our love with family and friends in Semarang,
                        combining both of our cultural traditions in a day we'll remember forever.
                    </p>
                    <div class="story-image coming-soon">
                        <span>Coming Soon</span>
                    </div>
                </div>
            </div>
        </div>
    </section>
</Layout>

<style>
    .page-header {
        background-color: var(--primary-color);
        color: white;
        padding: 5rem 1rem;
        text-align: center;
        margin-bottom: 3rem;
    }

    .page-header h1 {
        font-size: 3rem;
        margin-bottom: 1rem;
    }

    .divider {
        width: 100px;
        height: 2px;
        background-color: var(--secondary-color);
        margin: 0 auto;
    }

    .story-content {
        max-width: 800px;
        margin: 0 auto;
        padding: 0 1rem 5rem;
    }

    .timeline {
        position: relative;
        padding: 2rem 0;
    }

    .timeline::before {
        content: '';
        position: absolute;
        top: 0;
        left: 50px;
        height: 100%;
        width: 2px;
        background-color: var(--primary-color);
    }

    .timeline-item {
        display: flex;
        margin-bottom: 4rem;
    }

    .timeline-date {
        width: 100px;
        padding-right: 2rem;
        text-align: right;
        position: relative;
    }

    .timeline-date::after {
        content: '';
        position: absolute;
        top: 0;
        right: -10px;
        width: 20px;
        height: 20px;
        background-color: var(--primary-color);
        border-radius: 50%;
    }

    .timeline-date span {
        display: block;
        font-weight: 600;
        color: var(--primary-color);
    }

    .timeline-content {
        flex: 1;
        padding-left: 2rem;
    }

    .timeline-content h3 {
        font-size: 1.5rem;
        color: var(--primary-color);
        margin-bottom: 1rem;
    }

    .timeline-content p {
        line-height: 1.6;
        margin-bottom: 1.5rem;
    }

    .story-image {
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }

    .story-image img {
        width: 100%;
        height: auto;
        display: block;
    }

    .coming-soon {
        background-color: #f5f5f5;
        height: 300px;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .coming-soon span {
        font-size: 1.5rem;
        color: var(--primary-color);
        font-style: italic;
    }

    @media (max-width: 768px) {
        .timeline::before {
            left: 30px;
        }

        .timeline-date {
            width: 60px;
        }

        .timeline-content {
            padding-left: 1rem;
        }
    }
</style>
